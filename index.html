<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJC Group of Company</title>
    <style>
        /* Global Styles */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
            color: green;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            box-sizing: border-box;
            overflow-x: hidden;
            padding-left: 10px;
            padding-right: 10px;
        }

        header {
            background-color: #333;
            color: #fff;
            padding: 10px 0;
            text-align: center;
            margin: 0;
            box-sizing: border-box;
        }

        nav {
            background-color: #666;
            padding: 10px 0;
            text-align: center;
            margin: 0;
            box-sizing: border-box;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            padding: 0 20px;
            display: inline-block;
        }

        section {
            padding: 20px;
            flex-grow: 1;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            margin: 10px 0;
            box-sizing: border-box;
        }

        footer {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 20px 0;
            margin: 0;
            box-sizing: border-box;
        }

        .order-form, .feedback-form, .about-section {
            max-width: 100%;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            box-sizing: border-box;
        }

        .order-form label, .feedback-form label, .about-section h2 {
            display: block;
            margin-bottom: 10px;
        }

        .order-form input[type="text"],
        .order-form input[type="email"],
        .order-form textarea,
        .order-form select,
        .order-form input[type="number"],
        .feedback-form input[type="text"],
        .feedback-form input[type="email"],
        .feedback-form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }

        .order-form input[type="submit"],
        .feedback-form input[type="submit"] {
            background-color: #4CAF50;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
        }

        .order-form input[type="submit"]:hover,
        .feedback-form input[type="submit"]:hover {
            background-color: #45a049;
        }

        .order-form .total {
            margin-top: 15px;
            font-weight: bold;
        }

        .product-image {
            max-width: 200px;
            margin-top: 10px;
        }

        .fade-in {
            opacity: 1 !important;
        }

        .price-list {
            background-color: #fff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .price-list h2 {
            color: #333;
            text-align: center;
            margin-bottom: 20px;
        }

        .price-list h3 {
            color: #666;
            margin: 10px 0;
            padding: 5px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }

        .about-section img {
            max-width: 100%;
            height: auto;
            margin: 10px 5px;
            border-radius: 5px;
        }

        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
        }

        .admin-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 900px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .admin-login {
            text-align: center;
        }

        .admin-login input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }

        .admin-btn {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }

        .admin-btn:hover {
            background-color: #45a049;
        }

        .admin-btn.close {
            background-color: #f44336;
            float: right;
        }

        .admin-btn.close:hover {
            background-color: #d32f2f;
        }

        .admin-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        .admin-btn.secondary {
            background-color: #2196F3;
        }

        .admin-btn.secondary:hover {
            background-color: #1976D2;
        }

        .price-edit {
            margin: 10px 0;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }

        .price-edit label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .price-edit input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .admin-header {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .admin-floating-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #666;
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            z-index: 100;
        }

        .admin-floating-btn:hover {
            background-color: #555;
        }

        .password-change {
            margin-top: 20px;
            padding: 15px;
            background-color: #e8f5e8;
            border-radius: 5px;
        }

        .status-box {
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }

        .status-success {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }

        .status-error {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }

        .status-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }

        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #4CAF50;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 8px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Order Management Styles */
        .admin-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #ddd;
        }

        .admin-tab {
            padding: 10px 20px;
            background-color: #f1f1f1;
            border: none;
            cursor: pointer;
            margin-right: 5px;
            border-radius: 5px 5px 0 0;
        }

        .admin-tab.active {
            background-color: #4CAF50;
            color: white;
        }

        .admin-tab:hover {
            background-color: #ddd;
        }

        .admin-tab.active:hover {
            background-color: #45a049;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .orders-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: white;
        }

        .orders-table th,
        .orders-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        .orders-table th {
            background-color: #4CAF50;
            color: white;
            font-weight: bold;
        }

        .orders-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .orders-table tr:hover {
            background-color: #f5f5f5;
        }

        .filter-controls {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .filter-controls label {
            display: inline-block;
            margin-right: 10px;
            font-weight: bold;
        }

        .filter-controls select,
        .filter-controls input {
            margin-right: 15px;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stats-card {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid #4CAF50;
        }

        .stats-card h3 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 24px;
        }

        .stats-card p {
            margin: 0;
            color: #666;
            font-size: 14px;
        }

        .order-details {
            background-color: #f0f8ff;
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
        }

        .order-items {
            font-size: 12px;
            color: #666;
        }

        .delete-btn {
            background-color: #f44336;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
        }

        .delete-btn:hover {
            background-color: #d32f2f;
        }

        /* Responsive Design for Mobile Screens */
        @media only screen and (max-width: 600px) {
            body, section, .order-form, .feedback-form {
                width: 100%;
                margin: 0;
                padding: 0;
                padding-left: 10px;
                padding-right: 10px;
            }

            nav a {
                display: block;
                padding: 10px;
                font-size: 14px;
            }

            .order-form, .feedback-form {
                padding: 10px;
            }

            footer {
                position: relative;
            }

            .about-section h2,
            .about-section h3 {
                font-size: 16px;
            }

            .about-section p, .about-section h4 {
                font-size: 14px;
            }

            .product-image {
                max-width: 100%;
                height: auto;
            }

            .order-form input[type="submit"],
            .feedback-form input[type="submit"] {
                width: 100%;
            }

            .order-form input[type="text"],
            .order-form input[type="email"],
            .order-form select,
            .order-form input[type="number"],
            .feedback-form input[type="text"],
            .feedback-form input[type="email"],
            .feedback-form textarea {
                font-size: 16px;
            }

            .about-section img {
                width: 100%;
                height: auto;
                margin: 10px 0;
            }

            .admin-content {
                width: 95%;
                max-height: 90vh;
                padding: 15px;
            }

            .orders-table {
                font-size: 12px;
            }

            .orders-table th,
            .orders-table td {
                padding: 5px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .admin-tabs {
                flex-wrap: wrap;
            }

            .admin-tab {
                flex: 1;
                min-width: 120px;
                text-align: center;
                font-size: 14px;
            }
        }

        @media only screen and (orientation: landscape) and (max-width: 600px) {
            nav a {
                font-size: 16px;
            }

            .order-form, .feedback-form {
                max-width: 95%;
            }

            .order-form input[type="submit"],
            .feedback-form input[type="submit"] {
                width: 100%;
            }
        }
    </style>
    <script>
        function fadeInOnScroll() {
            const sections = document.querySelectorAll("section");
            const windowHeight = window.innerHeight;

            sections.forEach(section => {
                const sectionTop = section.getBoundingClientRect().top;
                if (sectionTop <= windowHeight * 0.8) {
                    section.classList.add("fade-in");
                }
            });
        }

        window.addEventListener("scroll", fadeInOnScroll);
        window.onload = fadeInOnScroll;

        // Configuration - Update these values as needed
        const CONFIG = {
            // Set your backend API URL here
            API_BASE_URL: 'https://ajcgroupofcompanys.github.io/ajcgroupofcompany', // Replace with your actual backend URL
            // API_BASE_URL: 'http://localhost:5000', // For local development
        };

        // EDIT PRICES HERE - Change these values to update prices across all devices
        let prices = {
            "chilly": 2,        // Price per peice
            "tomato": 5,         // Price per piece
            "spinach": 20,       // Price per piece
            "ladies_finger": 2,  // Price per piece
            "cabbage": 50,       // Price per piece
            "capsicum": 20,      // Price per piece
            "cauliflower": 50    // Price per piece
        };

        // ADMIN PASSWORD - Change this to update admin access
        let adminPassword = 'ajc2025';

        let productImages = {
            "chilly": "static/images/chilly.jpg",
            "tomato": "static/images/tomato.jpg",
            "spinach": "static/images/spinach.jpg",
            "ladies_finger": "static/images/ladies_finger.jpg",
            "cabbage": "static/images/cabbage.jpg",
            "capsicum": "static/images/capsicum.jpg",
            "cauliflower": "static/images/cauliflower.jpg"
        };

        let isAdminLoggedIn = false;
        let currentOrderNumber = 1;

        // Order Management System
        let orders = [];

        // Load orders from localStorage on page load
        function loadOrders() {
            const savedOrders = localStorage.getItem('ajc_orders');
            if (savedOrders) {
                orders = JSON.parse(savedOrders);
                // Update current order number to avoid duplicates
                if (orders.length > 0) {
                    const maxOrderNum = Math.max(...orders.map(order => order.orderNumber));
                    currentOrderNumber = maxOrderNum + 1;
                }
            }
        }

        // Save orders to localStorage
        function saveOrders() {
            localStorage.setItem('ajc_orders', JSON.stringify(orders));
        }

        // Generate unique order number
        function getNextOrderNumber() {
            return currentOrderNumber++;
        }

        // Add new order to the system
        function addOrder(customerName, customerEmail, orderItems, totalAmount) {
            const order = {
                orderNumber: getNextOrderNumber(),
                date: new Date().toISOString(),
                customerName: customerName,
                customerEmail: customerEmail,
                items: orderItems,
                totalAmount: totalAmount,
                status: 'Pending'
            };
            
            orders.push(order);
            saveOrders();
            return order.orderNumber;
        }

        function updateProductList() {
            for (let i = 1; i <= 5; i++) {
                const productSelect = document.getElementById("product" + i);
                if (productSelect) {
                    productSelect.innerHTML = '';

                    const defaultOption = document.createElement("option");
                    defaultOption.value = "";
                    defaultOption.text = "Select Product";
                    productSelect.appendChild(defaultOption);

                    for (let item in prices) {
                        const option = document.createElement("option");
                        option.value = item;
                        option.text = item.replace(/_/g, ' ') + " (" + prices[item] + " Rs)";
                        option.setAttribute('data-price', prices[item]);
                        productSelect.appendChild(option);
                    }
                }
            }
        }

        function updateProductImage(i) {
            const product = document.getElementById("product" + i).value;
            const imageElement = document.getElementById("productImage" + i);

            if (product && productImages[product]) {
                imageElement.src = productImages[product];
                imageElement.style.display = 'block';
            } else {
                imageElement.style.display = 'none';
            }
            calculateTotal();
        }

        function calculateTotal() {
            let total = 0;
            const itemCount = document.getElementById("itemCount").value;
            for (let i = 1; i <= itemCount; i++) {
                const product = document.getElementById("product" + i).value;
                const quantity = parseInt(document.getElementById("quantity" + i).value) || 0;
                if (product && quantity > 0) {
                    total += prices[product] * quantity;
                }
            }
            document.getElementById("totalCost").innerText = "Total Cost: Rs " + total;
        }

        function sendEmail() {
            const name = document.getElementById("name").value.trim();
            const email = document.getElementById("email").value.trim();

            if (!name || !email) {
                alert("Please fill in all required fields");
                return false;
            }

            let body = "Name: " + name + "%0D%0AEmail: " + email + "%0D%0A%0D%0A";
            const itemCount = document.getElementById("itemCount").value;
            let totalAmount = 0;
            let hasProducts = false;
            let orderItems = [];

            for (let i = 1; i <= itemCount; i++) {
                const product = document.getElementById("product" + i).value;
                const quantity = parseInt(document.getElementById("quantity" + i).value) || 0;
                if (product && quantity > 0) {
                    hasProducts = true;
                    const total = prices[product] * quantity;
                    body += "Product " + i + ": " + product.replace(/_/g, ' ') + "%0D%0AQuantity: " + quantity + "%0D%0ATotal Cost: Rs " + total + "%0D%0A%0D%0A";
                    totalAmount += total;
                    
                    // Store order item details
                    orderItems.push({
                        product: product.replace(/_/g, ' '),
                        quantity: quantity,
                        price: prices[product],
                        total: total
                    });
                }
            }

            if (!hasProducts) {
                alert("Please select at least one product with quantity");
                return false;
            }

            // Add order to system and get order number
            const orderNumber = addOrder(name, email, orderItems, totalAmount);
            
            body += "Net Amount: Rs " + totalAmount + "%0D%0AOrder Number: " + orderNumber;

            const subject = "Order #" + orderNumber + " from " + name;
            const mailtoLink = "mailto:ajcgroupofcompany41@gmail.com?subject=" + encodeURIComponent(subject) + "&body=" + body;
            
            // Show success message with order number
            alert("Order placed successfully! Your order number is: " + orderNumber);
            
            setTimeout(function() {
                window.location.href = mailtoLink;
            }, 100);
            
            // Clear form
            document.getElementById("name").value = "";
            document.getElementById("email").value = "";
            for (let i = 1; i <= 5; i++) {
                const productSelect = document.getElementById("product" + i);
                const quantityInput = document.getElementById("quantity" + i);
                if (productSelect) productSelect.value = "";
                if (quantityInput) quantityInput.value = "";
                updateProductImage(i);
            }
            calculateTotal();
            
            return false;
        }

        function sendFeedbackEmail() {
            const name = document.getElementById("feedbackName").value.trim();
            const email = document.getElementById("feedbackEmail").value.trim();
            const feedback = document.getElementById("feedbackMessage").value.trim();
            const senderGmail = document.getElementById("senderGmail").value.trim();

            if (!name || !email || !feedback || !senderGmail) {
                alert("Please fill in all required fields");
                return false;
            }

            let body = "Name: " + name + "%0D%0AEmail: " + email + "%0D%0ASender Gmail: " + senderGmail + "%0D%0A%0D%0AFeedback: " + feedback;

            const subject = "Feedback from " + name;
            const mailtoLink = "mailto:antonyasher71@gmail.com?subject=" + encodeURIComponent(subject) + "&body=" + body;
            
            setTimeout(function() {
                window.location.href = mailtoLink;
            }, 100);
            
            return false;
        }

        function showProductFields() {
            const itemCount = document.getElementById("itemCount").value;
            for (let i = 1; i <= 5; i++) {
                const fieldset = document.getElementById("productFieldset" + i);
                if (fieldset) {
                    fieldset.style.display = i <= itemCount ? 'block' : 'none';
                }
            }
            calculateTotal();
        }

        function updatePriceList() {
            const priceListDiv = document.querySelector('.price-list');
            if (priceListDiv) {
                const productNames = {
                    "chilly": "Chilly",
                    "tomato": "Tomato",
                    "spinach": "Spinach",
                    "ladies_finger": "Ladies finger",
                    "cabbage": "Cabbage",
                    "capsicum": "Capsicum",
                    "cauliflower": "Cauliflower"
                };
                
                let html = '<h2>PRICE LIST AND QUANTITY</h2>';
                for (let item in prices) {
                    if (productNames[item]) {
                        let unit = item === 'chilly' ? '/per piece' : '/per piece';
                        html += `<h3>${productNames[item]} = ${prices[item]}rs${unit}</h3>`;
                    }
                }
                priceListDiv.innerHTML = html;
            }
        }

        function showAdminPanel() {
            document.getElementById('adminPanel').style.display = 'block';
            if (!isAdminLoggedIn) {
                showAdminLogin();
            } else {
                showAdminDashboard();
            }
        }

        function hideAdminPanel() {
            document.getElementById('adminPanel').style.display = 'none';
            isAdminLoggedIn = false;
        }

        function showAdminLogin() {
            const adminContent = document.getElementById('adminContent');
            adminContent.innerHTML = `
                <button class="admin-btn close" onclick="hideAdminPanel()">×</button>
                <div class="admin-login">
                    <h2 class="admin-header">Admin Login</h2>
                    <input type="password" id="adminPasswordInput" placeholder="Enter Admin Password" />
                    <button class="admin-btn" onclick="adminLogin()">Login</button>
                    <p id="loginError" style="color: red; display: none;">Incorrect password!</p>
                </div>
            `;
        }

        function adminLogin() {
            const inputPassword = document.getElementById('adminPasswordInput').value;
            if (inputPassword === adminPassword) {
                isAdminLoggedIn = true;
                showAdminDashboard();
            } else {
                document.getElementById('loginError').style.display = 'block';
            }
        }

        function showAdminDashboard() {
            const adminContent = document.getElementById('adminContent');
            adminContent.innerHTML = `
                <button class="admin-btn close" onclick="hideAdminPanel()">×</button>
                <h2 class="admin-header">Admin Dashboard</h2>
                
                <div class="admin-tabs">
                    <button class="admin-tab active" onclick="showTab('orders')">Order Management</button>
                    <button class="admin-tab" onclick="showTab('prices')">Price Management</button>
                    <button class="admin-tab" onclick="showTab('settings')">Settings</button>
                </div>

                <div id="orders-tab" class="tab-content active">
                    ${generateOrdersTabContent()}
                </div>

                <div id="prices-tab" class="tab-content">
                    ${generatePricesTabContent()}
                </div>

                <div id="settings-tab" class="tab-content">
                    ${generateSettingsTabContent()}
                </div>
            `;
            
            // Initialize orders view
            displayOrders();
        }

        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.admin-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');
            
            // Refresh data if needed
            if (tabName === 'orders') {
                displayOrders();
            }
        }

        function generateOrdersTabContent() {
            return `
                <div class="stats-grid" id="orderStats">
                    <!-- Stats will be populated by JavaScript -->
                </div>
                
                <div class="filter-controls">
                    <label for="filterMonth">Month:</label>
                    <select id="filterMonth" onchange="displayOrders()">
                        <option value="">All Months</option>
                        <option value="1">January</option>
                        <option value="2">February</option>
                        <option value="3">March</option>
                        <option value="4">April</option>
                        <option value="5">May</option>
                        <option value="6">June</option>
                        <option value="7">July</option>
                        <option value="8">August</option>
                        <option value="9">September</option>
                        <option value="10">October</option>
                        <option value="11">November</option>
                        <option value="12">December</option>
                    </select>
                    
                    <label for="filterYear">Year:</label>
                    <select id="filterYear" onchange="displayOrders()">
                        <option value="">All Years</option>
                    </select>
                    
                    <button class="admin-btn" onclick="exportOrders()">Export Data</button>
                    <button class="admin-btn" onclick="clearAllOrders()" style="background-color: #f44336;">Clear All Orders</button>
                </div>
                
                <div id="ordersTableContainer">
                    <!-- Orders table will be populated by JavaScript -->
                </div>
            `;
        }

        function generatePricesTabContent() {
            const productNames = {
                "chilly": "Chilly (Rs/per piece)",
                "tomato": "Tomato (Rs/per piece)",
                "spinach": "Spinach (Rs/per piece)",
                "ladies_finger": "Ladies finger (Rs/per piece)",
                "cabbage": "Cabbage (Rs/per piece)",
                "capsicum": "Capsicum (Rs/per piece)",
                "cauliflower": "Cauliflower (Rs/per piece)"
            };

            let html = '<h3>Update Product Prices</h3>';
            
            for (let item in prices) {
                html += `
                    <div class="price-edit">
                        <label>${productNames[item]}:</label>
                        <input type="number" id="price_${item}" value="${prices[item]}" min="0" step="0.01" />
                    </div>
                `;
            }

            html += `
                <label for="adminSecret" style="display: block; margin-top: 15px; font-weight: bold;">Admin Secret Key:</label>
                <input type="password" id="adminSecret" placeholder="Enter admin secret for GitHub updates" style="width: 100%; padding: 8px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;" />
                
                <button class="admin-btn" id="savePricesBtn" onclick="savePrices()">Update Prices & Push to GitHub</button>
                <div id="updateStatus" style="margin-top: 15px;"></div>

                <div style="margin-top: 20px; padding: 15px; background-color: #e3f2fd; border-radius: 5px;">
                    <h4 style="color: #333; margin-top: 0;">Backend API Status:</h4>
                    <p style="font-size: 12px; color: #666; margin: 5px 0;">
                        API URL: <code>${CONFIG.API_BASE_URL}</code>
                    </p>
                    <button class="admin-btn" onclick="testBackendConnection()" style="padding: 5px 10px; font-size: 12px;">Test Connection</button>
                    <div id="connectionStatus" style="margin-top: 10px;"></div>
                </div>
            `;

            return html;
        }

        function generateSettingsTabContent() {
            return `
                <div class="password-change">
                    <h3>Change Admin Password</h3>
                    <input type="password" id="currentPassword" placeholder="Current Password" />
                    <input type="password" id="newPassword" placeholder="New Password" />
                    <input type="password" id="confirmPassword" placeholder="Confirm New Password" />
                    <button class="admin-btn" onclick="changePassword()">Change Password</button>
                    <p id="passwordError" style="color: red; display: none;"></p>
                    <p id="passwordSuccess" style="color: green; display: none;"></p>
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background-color: #fff3cd; border-radius: 5px;">
                    <h4>Data Management</h4>
                    <p>Orders are stored locally on each device. To sync across devices, you would need to implement a backend database.</p>
                    <button class="admin-btn secondary" onclick="backupData()">Download Backup</button>
                    <button class="admin-btn secondary" onclick="document.getElementById('restoreFile').click()">Restore Backup</button>
                    <input type="file" id="restoreFile" style="display: none;" onchange="restoreData(event)" accept=".json">
                </div>
            `;
        }

        function displayOrders() {
            const filterMonth = document.getElementById('filterMonth').value;
            const filterYear = document.getElementById('filterYear').value;
            
            // Populate year dropdown
            const yearSelect = document.getElementById('filterYear');
            const currentYear = new Date().getFullYear();
            yearSelect.innerHTML = '<option value="">All Years</option>';
            for (let year = currentYear; year >= 2023; year--) {
                yearSelect.innerHTML += `<option value="${year}" ${filterYear == year ? 'selected' : ''}>${year}</option>`;
            }

            // Filter orders
            let filteredOrders = orders.filter(order => {
                const orderDate = new Date(order.date);
                const orderMonth = orderDate.getMonth() + 1;
                const orderYear = orderDate.getFullYear();
                
                let matchesMonth = !filterMonth || orderMonth == filterMonth;
                let matchesYear = !filterYear || orderYear == filterYear;
                
                return matchesMonth && matchesYear;
            });

            // Update statistics
            updateOrderStats(filteredOrders);

            // Display orders table
            displayOrdersTable(filteredOrders);
        }

        function updateOrderStats(filteredOrders) {
            const statsContainer = document.getElementById('orderStats');
            
            const totalOrders = filteredOrders.length;
            const totalRevenue = filteredOrders.reduce((sum, order) => sum + order.totalAmount, 0);
            const avgOrderValue = totalOrders > 0 ? (totalRevenue / totalOrders).toFixed(2) : 0;
            
            // Get most popular product
            const productCounts = {};
            filteredOrders.forEach(order => {
                order.items.forEach(item => {
                    productCounts[item.product] = (productCounts[item.product] || 0) + item.quantity;
                });
            });
            
            const popularProduct = Object.keys(productCounts).length > 0 
                ? Object.keys(productCounts).reduce((a, b) => productCounts[a] > productCounts[b] ? a : b)
                : 'None';

            statsContainer.innerHTML = `
                <div class="stats-card">
                    <h3>${totalOrders}</h3>
                    <p>Total Orders</p>
                </div>
                <div class="stats-card">
                    <h3>₹${totalRevenue}</h3>
                    <p>Total Revenue</p>
                </div>
                <div class="stats-card">
                    <h3>₹${avgOrderValue}</h3>
                    <p>Avg Order Value</p>
                </div>
                <div class="stats-card">
                    <h3>${popularProduct}</h3>
                    <p>Popular Product</p>
                </div>
            `;
        }

        function displayOrdersTable(filteredOrders) {
            const tableContainer = document.getElementById('ordersTableContainer');
            
            if (filteredOrders.length === 0) {
                tableContainer.innerHTML = '<p style="text-align: center; color: #666;">No orders found for the selected period.</p>';
                return;
            }

            let tableHTML = `
                <table class="orders-table">
                    <thead>
                        <tr>
                            <th>Order #</th>
                            <th>Date</th>
                            <th>Customer</th>
                            <th>Items</th>
                            <th>Amount</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            filteredOrders.sort((a, b) => new Date(b.date) - new Date(a.date)).forEach(order => {
                const orderDate = new Date(order.date);
                const formattedDate = orderDate.toLocaleDateString() + ' ' + orderDate.toLocaleTimeString();
                
                const itemsHTML = order.items.map(item => 
                    `${item.product} (${item.quantity}x₹${item.price})`
                ).join(', ');

                tableHTML += `
                    <tr>
                        <td>#${order.orderNumber}</td>
                        <td>${formattedDate}</td>
                        <td>
                            <div><strong>${order.customerName}</strong></div>
                            <div style="font-size: 12px; color: #666;">${order.customerEmail}</div>
                        </td>
                        <td>
                            <div class="order-items">${itemsHTML}</div>
                        </td>
                        <td><strong>₹${order.totalAmount}</strong></td>
                        <td>
                            <button class="delete-btn" onclick="deleteOrder(${order.orderNumber})">Delete</button>
                        </td>
                    </tr>
                `;
            });

            tableHTML += `
                    </tbody>
                </table>
            `;

            tableContainer.innerHTML = tableHTML;
        }

        function deleteOrder(orderNumber) {
            if (confirm('Are you sure you want to delete order #' + orderNumber + '?')) {
                orders = orders.filter(order => order.orderNumber !== orderNumber);
                saveOrders();
                displayOrders();
                alert('Order deleted successfully!');
            }
        }

        function clearAllOrders() {
            if (confirm('Are you sure you want to delete ALL orders? This action cannot be undone!')) {
                if (confirm('This will permanently delete all order data. Are you absolutely sure?')) {
                    orders = [];
                    currentOrderNumber = 1;
                    saveOrders();
                    displayOrders();
                    alert('All orders have been cleared!');
                }
            }
        }

        function exportOrders() {
            const filterMonth = document.getElementById('filterMonth').value;
            const filterYear = document.getElementById('filterYear').value;
            
            let filteredOrders = orders.filter(order => {
                const orderDate = new Date(order.date);
                const orderMonth = orderDate.getMonth() + 1;
                const orderYear = orderDate.getFullYear();
                
                let matchesMonth = !filterMonth || orderMonth == filterMonth;
                let matchesYear = !filterYear || orderYear == filterYear;
                
                return matchesMonth && matchesYear;
            });

            if (filteredOrders.length === 0) {
                alert('No orders to export for the selected period.');
                return;
            }

            // Create CSV content
            let csvContent = "Order Number,Date,Customer Name,Customer Email,Items,Total Amount\n";
            
            filteredOrders.forEach(order => {
                const formattedDate = new Date(order.date).toLocaleString();
                const itemsText = order.items.map(item => 
                    `${item.product}(${item.quantity}x${item.price})`
                ).join(';');
                
                csvContent += `${order.orderNumber},"${formattedDate}","${order.customerName}","${order.customerEmail}","${itemsText}",${order.totalAmount}\n`;
            });

            // Download CSV
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            const filename = `AJC_Orders_${filterYear || 'All'}_${filterMonth ? getMonthName(filterMonth) : 'All'}.csv`;
            a.href = url;
            a.download = filename;
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function getMonthName(monthNum) {
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 
                          'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            return months[monthNum - 1];
        }

        function backupData() {
            const backupData = {
                orders: orders,
                prices: prices,
                currentOrderNumber: currentOrderNumber,
                backupDate: new Date().toISOString()
            };

            const blob = new Blob([JSON.stringify(backupData, null, 2)], { type: 'application/json' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            const filename = `AJC_Backup_${new Date().toISOString().split('T')[0]}.json`;
            a.href = url;
            a.download = filename;
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function restoreData(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const backupData = JSON.parse(e.target.result);
                    
                    if (confirm('This will replace all current data with the backup. Continue?')) {
                        orders = backupData.orders || [];
                        prices = backupData.prices || prices;
                        currentOrderNumber = backupData.currentOrderNumber || 1;
                        
                        saveOrders();
                        updateProductList();
                        updatePriceList();
                        displayOrders();
                        
                        alert('Data restored successfully!');
                    }
                } catch (error) {
                    alert('Invalid backup file!');
                }
            };
            reader.readAsText(file);
        }

        async function testBackendConnection() {
            const statusDiv = document.getElementById('connectionStatus');
            statusDiv.innerHTML = '<div class="loading-spinner"></div>Testing connection...';
            
            try {
                const response = await fetch(`${CONFIG.API_BASE_URL}/api/health`);
                if (response.ok) {
                    const data = await response.json();
                    statusDiv.innerHTML = '<div class="status-box status-success">✅ Backend connection successful!</div>';
                } else {
                    throw new Error(`HTTP ${response.status}`);
                }
            } catch (error) {
                statusDiv.innerHTML = `<div class="status-box status-error">❌ Backend connection failed: ${error.message}</div>`;
            }
        }

        async function savePrices() {
            const adminSecret = document.getElementById('adminSecret').value.trim();
            const savePricesBtn = document.getElementById('savePricesBtn');
            const statusDiv = document.getElementById('updateStatus');

            if (!adminSecret) {
                statusDiv.innerHTML = '<div class="status-box status-error">Please enter the admin secret key.</div>';
                return;
            }

            // Update prices in memory first
            for (let item in prices) {
                const newPrice = parseFloat(document.getElementById(`price_${item}`).value);
                if (!isNaN(newPrice) && newPrice >= 0) {
                    prices[item] = newPrice;
                }
            }

            // Update local displays immediately
            updateProductList();
            updatePriceList();
            calculateTotal();

            // Disable button and show loading
            savePricesBtn.disabled = true;
            savePricesBtn.innerHTML = '<div class="loading-spinner"></div>Updating GitHub...';
            statusDiv.innerHTML = '<div class="status-box status-info"><div class="loading-spinner"></div>Updating prices in GitHub repository...</div>';

            try {
                const response = await fetch(`${CONFIG.API_BASE_URL}/api/update-prices`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prices: prices,
                        adminSecret: adminSecret
                    })
                });

                const result = await response.json();

                if (response.ok) {
                    statusDiv.innerHTML = `
                        <div class="status-box status-success">
                            ✅ Success! Prices updated in GitHub repository.
                            <br>
                            <small>Changes will be live on all devices within a few minutes.</small>
                            ${result.commit ? `<br><a href="${result.commit}" target="_blank">View Commit</a>` : ''}
                        </div>
                    `;
                } else {
                    statusDiv.innerHTML = `
                        <div class="status-box status-error">
                            ❌ Failed to update GitHub: ${result.error}
                            <br>
                            <small>${result.details || 'Please check your admin secret and try again.'}</small>
                        </div>
                    `;
                }

            } catch (error) {
                console.error('Error updating prices:', error);
                statusDiv.innerHTML = `
                    <div class="status-box status-error">
                        ❌ Connection error: ${error.message}
                        <br>
                        <small>Please check if the backend server is running.</small>
                    </div>
                `;
            } finally {
                // Re-enable button
                savePricesBtn.disabled = false;
                savePricesBtn.innerHTML = 'Update Prices & Push to GitHub';
                
                // Clear admin secret for security
                document.getElementById('adminSecret').value = '';
            }
        }

        function changePassword() {
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            const errorElement = document.getElementById('passwordError');
            const successElement = document.getElementById('passwordSuccess');
            
            // Hide previous messages
            errorElement.style.display = 'none';
            successElement.style.display = 'none';
            
            if (currentPassword !== adminPassword) {
                errorElement.textContent = 'Current password is incorrect!';
                errorElement.style.display = 'block';
                return;
            }
            
            if (newPassword.length < 6) {
                errorElement.textContent = 'New password must be at least 6 characters long!';
                errorElement.style.display = 'block';
                return;
            }
            
            if (newPassword !== confirmPassword) {
                errorElement.textContent = 'New passwords do not match!';
                errorElement.style.display = 'block';
                return;
            }
            
            // Update password
            adminPassword = newPassword;
            
            successElement.textContent = 'Password changed successfully! Remember to update it in your GitHub code too.';
            successElement.style.display = 'block';
            
            // Clear form
            document.getElementById('currentPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmPassword').value = '';
        }

        window.onload = function() {
            loadOrders(); // Load saved orders
            updateProductList();
            updatePriceList();
            showProductFields();
            fadeInOnScroll();
        };
    </script>
</head>
<body>
    <header>
        <h1>AJC Group of Company</h1>
    </header>
    <nav>
        <a href="#home">Home</a>
        <a href="#order">Order</a>
        <a href="#about">About Us</a>
        <a href="#feedback">Feedback</a>
    </nav>

    <section id="home" class="fade-in">
        <h2>Welcome to AJC Group of Company</h2>
        <p>Welcome to AJC Group of Company, where we bring fresh farm products directly to your doorstep. Founded in 2023 by Antony Asher and Joseph Johann, we are committed to delivering high-quality, sustainable, and affordable produce. Whether you're looking for fresh vegetables, fruits, or services from our diverse sectors like Motor Works and Paint Shop, we're here to meet your needs. Join us on our journey to provide the best for you and your family!</p>
    </section>

    <div class="price-list">
        <h2>PRICE LIST AND QUANTITY</h2>
        <h3>Chilly = 2rs/per piece</h3>
        <h3>Tomato = 5rs/per piece</h3>
        <h3>Capsicum = 20rs/per piece</h3>
        <h3>Spinach = 20rs/per piece</h3>
        <h3>Cabbage = 50rs/per piece</h3>
        <h3>Ladies finger = 2rs/per piece</h3>
        <h3>Cauliflower = 50rs/per piece</h3>
    </div>

    <section id="order" class="fade-in">
        <h2>Order</h2>
        <div class="order-form">
            <h3>Place Your Order</h3>
            <form onsubmit="return sendEmail();">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>

                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>

                <label for="itemCount">How many items do you need?</label>
                <select id="itemCount" name="itemCount" onchange="showProductFields()">
                    <option value="1">1 item</option>
                    <option value="2">2 items</option>
                    <option value="3">3 items</option>
                    <option value="4">4 items</option>
                    <option value="5">5 items</option>
                </select>

                <div id="productFieldset1" class="product-fieldset" style="display: block;">
                    <label for="product1">Product 1:</label>
                    <select id="product1" name="product1" onchange="updateProductImage(1)">
                        <option value="">Select Product</option>
                    </select>
                    <label for="quantity1">Quantity:</label>
                    <input type="number" id="quantity1" name="quantity1" min="1" onchange="calculateTotal()">
                    <img id="productImage1" class="product-image" style="display:none;" alt="Product Image">
                </div>

                <div id="productFieldset2" class="product-fieldset" style="display: none;">
                    <label for="product2">Product 2:</label>
                    <select id="product2" name="product2" onchange="updateProductImage(2)">
                        <option value="">Select Product</option>
                    </select>
                    <label for="quantity2">Quantity:</label>
                    <input type="number" id="quantity2" name="quantity2" min="1" onchange="calculateTotal()">
                    <img id="productImage2" class="product-image" style="display:none;" alt="Product Image">
                </div>

                <div id="productFieldset3" class="product-fieldset" style="display: none;">
                    <label for="product3">Product 3:</label>
                    <select id="product3" name="product3" onchange="updateProductImage(3)">
                        <option value="">Select Product</option>
                    </select>
                    <label for="quantity3">Quantity:</label>
                    <input type="number" id="quantity3" name="quantity3" min="1" onchange="calculateTotal()">
                    <img id="productImage3" class="product-image" style="display:none;" alt="Product Image">
                </div>

                <div id="productFieldset4" class="product-fieldset" style="display: none;">
                    <label for="product4">Product 4:</label>
                    <select id="product4" name="product4" onchange="updateProductImage(4)">
                        <option value="">Select Product</option>
                    </select>
                    <label for="quantity4">Quantity:</label>
                    <input type="number" id="quantity4" name="quantity4" min="1" onchange="calculateTotal()">
                    <img id="productImage4" class="product-image" style="display:none;" alt="Product Image">
                </div>

                <div id="productFieldset5" class="product-fieldset" style="display: none;">
                    <label for="product5">Product 5:</label>
                    <select id="product5" name="product5" onchange="updateProductImage(5)">
                        <option value="">Select Product</option>
                    </select>
                    <label for="quantity5">Quantity:</label>
                    <input type="number" id="quantity5" name="quantity5" min="1" onchange="calculateTotal()">
                    <img id="productImage5" class="product-image" style="display:none;" alt="Product Image">
                </div>

                <div class="total">
                    <span id="totalCost">Total Cost: Rs 0</span>
                </div>

                <input type="submit" value="Submit Order">
            </form>
        </div>
    </section>

    <section id="about" class="fade-in">
        <div class="about-section">
            <h1>About Us</h1>
            <p>AJC Group of Company, founded in 2023 by CEO and Founder Antony Asher and COO and Co-Founder Joseph Johann, is committed to delivering high-quality farm-fresh produce directly to your doorstep. Our focus is on providing a wide variety of vegetables, fruits, and other farm products with an emphasis on freshness, sustainability, and affordability.</p>

            <p>In addition to our core offerings in farm products, AJC Group has diversified into several other sectors, including Motor Works, Paint Shop, and more, ensuring a comprehensive range of services to meet the needs of our customers.</p>

            <p>Our mission is to make healthy and fresh food easily accessible to everyone while supporting local farmers and communities, and we are constantly expanding to offer the best products and services across multiple industries.</p>

            <h2>OUR TEAM</h2>
            <h3>CEO [CHIEF EXECUTIVE OFFICER]</h3>
            <h4>Mr Antony Asher [FOUNDER OF COMPANY]</h4>
            
            <h3>COO [CHIEF OPERATIONS OFFICER]</h3>
            <h4>Mr Joseph Johann [CO-FOUNDER]</h4>

            <h2>FARM</h2>
            <img src="static/images/ajc.jpg" alt="AJC Farm">
            <img src="static/images/banana.jpg" alt="Banana Farm">
            <img src="static/images/tomatop.jpg" alt="Tomato Plants">
            <img src="static/images/chillyp.jpg" alt="Chilly Plants">
            <img src="static/images/chillyp2.jpg" alt="Chilly Plants 2">
            <img src="static/images/cabbagep.jpg" alt="Cabbage Plant">
            <p>Fresh and quality vegetables since 2023.</p>

            <h2>OUR AIM</h2>
            <h4>Our aim is to ensure good and quality vegetables from our farm to ensure nurture healthy generation</h4>
            
            <h2>CONTACT US</h2>
            <h4>Mob: 9745607925</h4>
            <h4>Gmail: ajcgroupofcompany047@gmail.com</h4>
        </div>
    </section>

    <section id="feedback" class="fade-in">
        <h2>Feedback</h2>
        <div class="feedback-form">
            <form onsubmit="return sendFeedbackEmail();">
                <label for="feedbackName">Your Name:</label>
                <input type="text" id="feedbackName" name="feedbackName" required>

                <label for="feedbackEmail">Your Email:</label>
                <input type="email" id="feedbackEmail" name="feedbackEmail" required>

                <label for="senderGmail">Your Gmail:</label>
                <input type="email" id="senderGmail" name="senderGmail" required>

                <label for="feedbackMessage">Your Feedback:</label>
                <textarea id="feedbackMessage" name="feedbackMessage" rows="5" required></textarea>

                <input type="submit" value="Submit Feedback">
            </form>
        </div>
    </section>

    <footer>
        <p>© 2025 AJC Group of Company. All rights reserved.</p>
    </footer>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel">
        <div class="admin-content" id="adminContent">
            <!-- Admin content will be dynamically loaded here -->
        </div>
    </div>

    <!-- Floating Admin Button -->
    <button class="admin-floating-btn" onclick="showAdminPanel()" title="Admin Login">⚙️</button>

</body>
</html>



